<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clojush.util documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojush</span> <span class="project-version">2.26.0-1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojush</span></div></div></li><li class="depth-2 branch"><a href="clojush.args.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>args</span></div></a></li><li class="depth-2 branch"><a href="clojush.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="clojush.evaluate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>evaluate</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>experimental</span></div></div></li><li class="depth-3 branch"><a href="clojush.experimental.decimation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>decimation</span></div></a></li><li class="depth-3 branch"><a href="clojush.experimental.overlap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>overlap</span></div></a></li><li class="depth-3 branch"><a href="clojush.experimental.scaled-errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scaled-errors</span></div></a></li><li class="depth-3"><a href="clojush.experimental.tagged-code-macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tagged-code-macros</span></div></a></li><li class="depth-2 branch"><a href="clojush.globals.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>globals</span></div></a></li><li class="depth-2 branch"><a href="clojush.individual.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>individual</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>instructions</span></div></div></li><li class="depth-3 branch"><a href="clojush.instructions.boolean.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>boolean</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.char.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>char</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.code.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>code</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.genome.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>genome</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.input-output.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>input-output</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.numbers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>numbers</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.random-instructions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random-instructions</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.return.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>return</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.tag.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tag</span></div></a></li><li class="depth-3 branch"><a href="clojush.instructions.vectors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vectors</span></div></a></li><li class="depth-3"><a href="clojush.instructions.zip.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>zip</span></div></a></li><li class="depth-2 branch"><a href="clojush.interpreter.html"><div class="inner"><span class="tree" style="top: -424px;"><span class="top" style="height: 433px;"></span><span class="bottom"></span></span><span>interpreter</span></div></a></li><li class="depth-2 branch"><a href="clojush.ns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ns</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pushgp</span></div></div></li><li class="depth-3 branch"><a href="clojush.pushgp.breed.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>breed</span></div></a></li><li class="depth-3 branch"><a href="clojush.pushgp.genetic-operators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>genetic-operators</span></div></a></li><li class="depth-3 branch"><a href="clojush.pushgp.parent-selection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parent-selection</span></div></a></li><li class="depth-3 branch"><a href="clojush.pushgp.pushgp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pushgp</span></div></a></li><li class="depth-3"><a href="clojush.pushgp.report.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>report</span></div></a></li><li class="depth-2 branch"><a href="clojush.pushstate.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>pushstate</span></div></a></li><li class="depth-2 branch"><a href="clojush.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-2 branch"><a href="clojush.simplification.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simplification</span></div></a></li><li class="depth-2 branch"><a href="clojush.translate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>translate</span></div></a></li><li class="depth-2 current"><a href="clojush.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clojush.util.html#var-all-items"><div class="inner"><span>all-items</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-average"><div class="inner"><span>average</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-code-at-point"><div class="inner"><span>code-at-point</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-compute-next-row"><div class="inner"><span>compute-next-row</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-containing-subtree"><div class="inner"><span>containing-subtree</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-contains-subtree"><div class="inner"><span>contains-subtree</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-count-parens"><div class="inner"><span>count-parens</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-count-points"><div class="inner"><span>count-points</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-debug-recent-instructions"><div class="inner"><span>debug-recent-instructions</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-ensure-list"><div class="inner"><span>ensure-list</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-insert-code-at-point"><div class="inner"><span>insert-code-at-point</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-keep-number-reasonable"><div class="inner"><span>keep-number-reasonable</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-levenshtein-distance"><div class="inner"><span>levenshtein-distance</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-list-to-open-close-sequence"><div class="inner"><span>list-to-open-close-sequence</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-literals"><div class="inner"><span>literals</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-mean"><div class="inner"><span>mean</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-median"><div class="inner"><span>median</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-not-lazy"><div class="inner"><span>not-lazy</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-open-close-sequence-to-list"><div class="inner"><span>open-close-sequence-to-list</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-postwalklist"><div class="inner"><span>postwalklist</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-postwalklist-replace"><div class="inner"><span>postwalklist-replace</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-prewalkseq"><div class="inner"><span>prewalkseq</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-print-return"><div class="inner"><span>print-return</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-recognize-literal"><div class="inner"><span>recognize-literal</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-remove-code-at-point"><div class="inner"><span>remove-code-at-point</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-round-to-n-decimal-places"><div class="inner"><span>round-to-n-decimal-places</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-seq-zip"><div class="inner"><span>seq-zip</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-sequence-similarity"><div class="inner"><span>sequence-similarity</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-subst"><div class="inner"><span>subst</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-test-and-train-data-from-domains"><div class="inner"><span>test-and-train-data-from-domains</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-truncate"><div class="inner"><span>truncate</span></div></a></li><li class="depth-1"><a href="clojush.util.html#var-walklist"><div class="inner"><span>walklist</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clojush.util</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-all-items"><h3>all-items</h3><div class="usage"><code>(all-items lst)</code></div><div class="doc"><div class="markdown"><p>Returns a list of all of the items in lst, where sublists and atoms all count as items. Will contain duplicates if there are duplicates in lst. Recursion in implementation could be improved.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L229">view source</a></div></div><div class="public anchor" id="var-average"><h3>average</h3><div class="usage"><code>(average &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L372">view source</a></div></div><div class="public anchor" id="var-code-at-point"><h3>code-at-point</h3><div class="usage"><code>(code-at-point tree point-index)</code></div><div class="doc"><div class="markdown"><p>Returns a subtree of tree indexed by point-index in a depth first traversal.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L124">view source</a></div></div><div class="public anchor" id="var-compute-next-row"><h3>compute-next-row</h3><div class="usage"><code>(compute-next-row prev-row current-element other-seq pred)</code></div><div class="doc"><div class="markdown"><p>computes the next row using the prev-row current-element and the other seq</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L296">view source</a></div></div><div class="public anchor" id="var-containing-subtree"><h3>containing-subtree</h3><div class="usage"><code>(containing-subtree tree subtree)</code></div><div class="doc"><div class="markdown"><p>If tree contains subtree at any level then this returns the smallest subtree of tree that contains but is not equal to the first instance of subtree. For example, (contining-subtree &lsquo;(b (c (a)) (d (a))) &rsquo;(a)) =&gt; (c (a)). Returns nil if tree does not contain subtree.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L215">view source</a></div></div><div class="public anchor" id="var-contains-subtree"><h3>contains-subtree</h3><div class="usage"><code>(contains-subtree tree subtree)</code></div><div class="doc"><div class="markdown"><p>Returns true if tree contains subtree at any level. Inefficient but functional implementation.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L207">view source</a></div></div><div class="public anchor" id="var-count-parens"><h3>count-parens</h3><div class="usage"><code>(count-parens tree)</code></div><div class="doc"><div class="markdown"><p>Returns the number of paren pairs in tree</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L83">view source</a></div></div><div class="public anchor" id="var-count-points"><h3>count-points</h3><div class="usage"><code>(count-points tree)</code></div><div class="doc"><div class="markdown"><p>Returns the number of points in tree, where each atom and each pair of parentheses counts as a point.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L103">view source</a></div></div><div class="public anchor" id="var-debug-recent-instructions"><h3>debug-recent-instructions</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L36">view source</a></div></div><div class="public anchor" id="var-ensure-list"><h3>ensure-list</h3><div class="usage"><code>(ensure-list thing)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L47">view source</a></div></div><div class="public anchor" id="var-insert-code-at-point"><h3>insert-code-at-point</h3><div class="usage"><code>(insert-code-at-point tree point-index new-subtree)</code></div><div class="doc"><div class="markdown"><p>Returns a copy of tree with the subtree formerly indexed by point-index (in a depth-first traversal) replaced by new-subtree.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L134">view source</a></div></div><div class="public anchor" id="var-keep-number-reasonable"><h3>keep-number-reasonable</h3><div class="usage"><code>(keep-number-reasonable n)</code></div><div class="doc"><div class="markdown"><p>Returns a version of n that obeys limit parameters.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L59">view source</a></div></div><div class="public anchor" id="var-levenshtein-distance"><h3>levenshtein-distance</h3><div class="usage"><code>(levenshtein-distance a b &amp; {p :predicate, :or {p =}})</code></div><div class="doc"><div class="markdown"><p>Levenshtein Distance - <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">http://en.wikipedia.org/wiki/Levenshtein_distance</a> In information theory and computer science, the Levenshtein distance is a metric for measuring the amount of difference between two sequences. This is a functional implementation of the levenshtein edit distance with as little mutability as possible. Still maintains the O(n*m) guarantee.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L326">view source</a></div></div><div class="public anchor" id="var-list-to-open-close-sequence"><h3>list-to-open-close-sequence</h3><div class="usage"><code>(list-to-open-close-sequence lst)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L245">view source</a></div></div><div class="public anchor" id="var-literals"><h3>literals</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L11">view source</a></div></div><div class="public anchor" id="var-mean"><h3>mean</h3><div class="usage"><code>(mean coll)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L363">view source</a></div></div><div class="public anchor" id="var-median"><h3>median</h3><div class="usage"><code>(median coll)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L376">view source</a></div></div><div class="public anchor" id="var-not-lazy"><h3>not-lazy</h3><div class="usage"><code>(not-lazy lst)</code></div><div class="doc"><div class="markdown"><p>Returns lst if it is not a list, or a non-lazy version of lst if it is.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L238">view source</a></div></div><div class="public anchor" id="var-open-close-sequence-to-list"><h3>open-close-sequence-to-list</h3><div class="usage"><code>(open-close-sequence-to-list sequence)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L253">view source</a></div></div><div class="public anchor" id="var-postwalklist"><h3>postwalklist</h3><div class="usage"><code>(postwalklist f form)</code></div><div class="doc"><div class="markdown"><p>Like postwalk, but only for lists</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L183">view source</a></div></div><div class="public anchor" id="var-postwalklist-replace"><h3>postwalklist-replace</h3><div class="usage"><code>(postwalklist-replace smap form)</code></div><div class="doc"><div class="markdown"><p>Like postwalk-replace, but only for lists.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L196">view source</a></div></div><div class="public anchor" id="var-prewalkseq"><h3>prewalkseq</h3><div class="usage"><code>(prewalkseq f s)</code></div><div class="doc"><div class="markdown"><p>Like prewalk but only for seqs and uses zippers.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L188">view source</a></div></div><div class="public anchor" id="var-print-return"><h3>print-return</h3><div class="usage"><code>(print-return thing)</code></div><div class="doc"><div class="markdown"><p>Prints the provided thing and returns it.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L53">view source</a></div></div><div class="public anchor" id="var-recognize-literal"><h3>recognize-literal</h3><div class="usage"><code>(recognize-literal thing)</code></div><div class="doc"><div class="markdown"><p>If thing is a literal, return its type &ndash; otherwise return false.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L24">view source</a></div></div><div class="public anchor" id="var-remove-code-at-point"><h3>remove-code-at-point</h3><div class="usage"><code>(remove-code-at-point tree point-index)</code></div><div class="doc"><div class="markdown"><p>Returns a copy of tree with the subtree formerly indexed by point-index (in a depth-first traversal) removed. The old version would not allow removals that result in empty lists, but the current version allows this behavior.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L145">view source</a></div></div><div class="public anchor" id="var-round-to-n-decimal-places"><h3>round-to-n-decimal-places</h3><div class="usage"><code>(round-to-n-decimal-places f n)</code></div><div class="doc"><div class="markdown"><p>If a number, rounds float f to n decimal places.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L75">view source</a></div></div><div class="public anchor" id="var-seq-zip"><h3>seq-zip</h3><h4 class="added">added in 1.0</h4><div class="usage"><code>(seq-zip root)</code></div><div class="doc"><div class="markdown"><p>Returns a zipper for nested sequences, given a root sequence</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L38">view source</a></div></div><div class="public anchor" id="var-sequence-similarity"><h3>sequence-similarity</h3><div class="usage"><code>(sequence-similarity sequence1 sequence2)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L349">view source</a></div></div><div class="public anchor" id="var-subst"><h3>subst</h3><div class="usage"><code>(subst this that lst)</code></div><div class="doc"><div class="markdown"><p>Returns the given list but with all instances of that (at any depth)<br/>replaced with this. Read as &lsquo;subst this for that in list&rsquo;. </p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L201">view source</a></div></div><div class="public anchor" id="var-test-and-train-data-from-domains"><h3>test-and-train-data-from-domains</h3><div class="usage"><code>(test-and-train-data-from-domains domains)</code></div><div class="doc"><div class="markdown"><p>Takes a list of domains and creates a set of (random) train inputs and a set of test inputs based on the domains. Returns [train test]. A program should not be considered a solution unless it is perfect on both the train and test cases.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L272">view source</a></div></div><div class="public anchor" id="var-truncate"><h3>truncate</h3><div class="usage"><code>(truncate n)</code></div><div class="doc"><div class="markdown"><p>Returns a truncated integer version of n.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L168">view source</a></div></div><div class="public anchor" id="var-walklist"><h3>walklist</h3><div class="usage"><code>(walklist inner outer form)</code></div><div class="doc"><div class="markdown"><p>Like walk, but only for lists.</p></div></div><div class="src-link"><a href="http://github.com/lspector/Clojush/blob/master/src/clojush/util.clj#L175">view source</a></div></div></div></body></html>